<nav class="navbar" role="navigation">
  <div class="navbar-inner">

    <!-- Brand -->
    <div class="brand flex items-center gap-2">
      <img src="/assets/images/logo/logo1.png"
           alt="Ipakodo Grammar School 1998 Set Alumni Logo"
           class="h-8 w-auto">
      <span>Ipakodo 1998 Set Alumni</span>
    </div>

    <!-- Desktop Navigation -->
    <ul class="nav-links desktop">

      <li><a href="/index.html">Home</a></li>

      <!-- Our Story -->
<li class="dropdown" aria-haspopup="true">
  <a href="/pages/about.html">Our Story</a>

  <div class="mega-menu">
    <div class="mega-grid">

      <!-- About the Association -->
      <div>
        <h4>About the Association</h4>
        <ul>
          <li>
            <a href="/pages/about.html#history">
              Our History
            </a>
          </li>
          <li>
            <a href="/pages/mission.html">
              Mission & Vision
            </a>
          </li>
          <li>
            <a href="/pages/constitution.html">
              Constitution
            </a>
          </li>
        </ul>
      </div>

      <!-- Leadership -->
      <div>
        <h4>Leadership & Governance</h4>
        <ul>
          <li>
            <a href="/pages/current-leadership.html">
              Current Leadership
            </a>
          </li>
          <li>
            <a href="/pages/current-leadership.html#leadership-history">
              Leadership History
            </a>
          </li>
          <li>
            <a href="/pages/bot.html">
              Board of Trustees
            </a>
          </li>
        </ul>
      </div>

      <!-- Committees -->
      <div>
        <h4>Committees & Structure</h4>
        <ul>
          <li>
            <a href="/pages/reports.html">
              Electoral Committee
            </a>
          </li>
          <li>
            <a href="/pages/contact.html">
              Outreach Committee
            </a>
          </li>
          <li>
            <a href="/pages/contact.html">
              Endowment & Funds
            </a>
          </li>
        </ul>
      </div>

    </div>
  </div>
</li>


      <!-- Alumni Events -->
<li class="dropdown" aria-haspopup="true">
  <a href="/pages/events.html">Alumni Events</a>

  <div class="mega-menu">
    <div class="mega-grid">

      <!-- Upcoming -->
      <div>
        <h4>Upcoming Events</h4>
        <ul>
          <li>
            <a href="/pages/2026-reunion.html">
              2026 Grand Reunion
            </a>
          </li>
          <li>
            <a href="/pages/birthday.html">
              Alumni Birthdays
            </a>
          </li>
        </ul>
      </div>

      <!-- Past -->
      <div>
        <h4>Past Events</h4>
        <ul>
          <li>
            <a href="/pages/2025-reunion.html">
              2025 Reunion Highlights
            </a>
          </li>
          <li>
            <a href="/pages/2024-reunion.html">
              2024 Reunion Highlights
            </a>
          </li>
          <li>
            <a href="/pages/events.html#gallery">
              Event Photo Gallery
            </a>
          </li>
        </ul>
      </div>

      <!-- Participation -->
      <div>
        <h4>Get Involved</h4>
        <ul>
          <li>
            <a href="/pages/join.html">
              RSVP & Participate
            </a>
          </li>
          <li>
            <a href="/pages/donate.html">
              Sponsor an Event
            </a>
          </li>
        </ul>
      </div>

    </div>
  </div>
</li>
<!-- Projects -->
<li class="dropdown" aria-haspopup="true">
  <a href="/pages/projects.html">Projects</a>

  <div class="mega-menu">
    <div class="mega-grid">

      <!-- Ongoing Projects -->
      <div>
        <h4>Ongoing Projects</h4>
        <ul>
          <li>
            <a href="/pages/projects.html#education">
              Education Endowment
            </a>
          </li>
          <li>
            <a href="/pages/projects.html#welfare">
              Alumni Welfare Program
            </a>
          </li>
          <li>
            <a href="/pages/projects.html#infrastructure">
              School Infrastructure Upgrades
            </a>
          </li>
        </ul>
      </div>

      <!-- Completed Projects -->
      <div>
        <h4>Completed Projects</h4>
        <ul>
          <li>
            <a href="/pages/projects.html#2025-drive">
              2025 Welfare Drive
            </a>
          </li>
          <li>
            <a href="/pages/projects.html#mentorship-launch">
              Mentorship Program Launch
            </a>
          </li>
        </ul>
      </div>

      <!-- Participation -->
      <div>
        <h4>Get Involved</h4>
        <ul>
          <li>
            <a href="/pages/donate.html">
              Donate to a Project
            </a>
          </li>
          <li>
            <a href="/pages/contact.html">
              Volunteer & Support
            </a>
          </li>
        </ul>
      </div>

    </div>
  </div>
</li>
<!-- Reports -->
<li class="dropdown" aria-haspopup="true">
  <a href="/pages/reports.html">Reports</a>

  <div class="mega-menu">
    <div class="mega-grid">

      <!-- Financial Reports -->
      <div>
        <h4>Financial Reports</h4>
        <ul>
          <li>
            <a href="/pages/reports.html#financial">
              Financial Statement (As at 30 Nov 2025)
            </a>
          </li>
          <li>
            <a href="/pages/reports.html#audit">
              Audit Summary
            </a>
          </li>
        </ul>
      </div>

      <!-- Alumni Reports -->
      <div>
        <h4>Alumni Reports</h4>
        <ul>
          <li>
            <a href="/pages/reports.html#reunions">
              Reunion Reports
            </a>
          </li>
          <li>
            <a href="/pages/reports.html#membership">
              Membership & Participation
            </a>
          </li>
        </ul>
      </div>

      <!-- Project Reports -->
      <div>
        <h4>Project Reports</h4>
        <ul>
          <li>
            <a href="/pages/reports.html#projects">
              Project Status & Outcomes
            </a>
          </li>
        </ul>
      </div>

    </div>
  </div>
</li>


      <!-- Support -->
<li class="dropdown" aria-haspopup="true">
  <a href="/pages/support.html">Support</a>

  <div class="mega-menu">
    <div class="mega-grid">

      <!-- Career Support -->
      <div>
        <h4>Career Support</h4>
        <ul>
          <li>
            <a href="/pages/job.html">
              Alumni Job Hub
            </a>
          </li>
        </ul>
      </div>

      <!-- Business Support -->
      <div>
        <h4>Business & Enterprise</h4>
        <ul>
          <li>
            <a href="/pages/business.html">
              Alumni Business Hub
            </a>
          </li>
        </ul>
      </div>

      <!-- Welfare & Care -->
      <div>
        <h4>Welfare & Care</h4>
        <ul>
          <li>
            <a href="/pages/welfare.html#projects">
              Welfare Support
            </a>
          </li>
          <li>
            <a href="/pages/lift.html#projects">
              Lift Others Initiative
            </a>
          </li>
        </ul>
      </div>

    </div>
  </div>
</li>

     <li>
  <a href="/auth/register.html">
    join
  </a>
</li>

<li>
  <a href="/pages/partner.html">
    Partnerships
  </a>
</li>



<li>
  <a href="/pages/blog.html">
    News
  </a>
</li>
<!-- Login (Desktop - shown when logged out) -->
      <li id="auth-login-desktop">
        <a href="/auth/login.html">Login</a>
      </li>

      <!-- User Badge (Desktop - shown when logged in) -->
      <li id="user-badge-desktop" class="user-menu" style="display:none;">
        <button id="user-menu-trigger" aria-haspopup="true" aria-expanded="false">
          <img id="user-avatar" src="/assets/images/avatar/default-avatar.png" alt="User avatar">
          <span>Hello <strong id="user-name-desktop"></strong></span>
          <span id="role-badge" class="role-badge role-member">Member</span>
          <span class="caret">▾</span>
        </button>
        <div class="user-dropdown">
          <a href="/pages/profile.html">Profile</a>
          <a href="/pages/dashboard.html">Dashboard</a>
          <button type="button" onclick="logout()">Logout</button>
        </div>
      </li>
    </ul>

    <!-- Mobile Toggle Button -->
    <label for="menu-toggle" class="nav-toggle" aria-label="Open menu">☰</label>
  </div>
</nav>

<!-- Mobile Menu Toggle (hidden checkbox) -->
<input type="checkbox" id="menu-toggle" hidden>

<!-- Mobile Sidebar -->
<aside class="sidebar" aria-label="Mobile navigation">
  <label for="menu-toggle" class="close" aria-label="Close menu">✕</label>

  <ul class="menu">
    <li><a href="/index.html">Home</a></li>

    <!-- User Badge (Mobile - shown when logged in) -->
    <li id="user-badge-mobile" class="has-submenu" style="display:none;">
      <input type="checkbox" id="user-mobile-toggle" hidden>
      <label for="user-mobile-toggle" class="submenu-toggle">
        <img id="user-avatar-mobile" src="/assets/images/avatar/default-avatar.png" alt="User avatar">
        <div>
          <span>Hello <strong id="user-name-mobile"></strong></span>
          <span id="role-badge-mobile" class="role-badge role-member">Member</span>
        </div>
        <span class="chev">▾</span>
      </label>
      <ul class="submenu">
        <li><a href="/pages/profile.html">My Profile</a></li>
        <li><a href="/pages/dashboard.html">Dashboard</a></li>
        <li class="submenu-title">Account</li>
        <li><button type="button" onclick="logout()">Logout</button></li>
      </ul>
    </li>

    <!-- About -->
    <li class="has-submenu">
      <input type="checkbox" id="about-toggle" hidden>
      <label for="about-toggle" class="submenu-toggle">About <span class="chev">▾</span></label>
      <ul class="submenu">
        <li class="submenu-title">Overview</li>
        <li><a href="/pages/about.html#history">History</a></li>
        <li><a href="/pages/mission.html">Mission</a></li>
        <li><a href="/pages/constitution.html">Constitution</a></li>
        <li class="submenu-title">Leadership</li>
        <li><a href="/pages/current-leadership.html">Current</a></li>
        <li><a href="/pages/current-leadership.html#leadership-history">Past</a></li>
        <li><a href="/pages/bot.html">Trustees</a></li>
        <li class="submenu-title">Committees</li>
        <li><a href="/pages/reports.html">Electoral</a></li>
        <li><a href="/pages/contact.html">Outreach</a></li>
        <li><a href="/pages/contact.html">Endowment</a></li>
      </ul>
    </li>

    <!-- Events -->
    <li class="has-submenu">
      <input type="checkbox" id="events-toggle" hidden>
      <label for="events-toggle" class="submenu-toggle">Events <span class="chev">▾</span></label>
      <ul class="submenu">
        <li class="submenu-title">Upcoming</li>
        <li><a href="/pages/2026-reunion.html">2026 Reunion</a></li>
        <li><a href="/pages/birthday.html">Birthdays</a></li>
        <li class="submenu-title">Past</li>
        <li><a href="/pages/2025-reunion.html">2025 Reunion</a></li>
        <li><a href="/pages/2024-reunion.html">2024 Reunion</a></li>
        <li><a href="/pages/events.html#gallery">Gallery</a></li>
        <li class="submenu-title">Join</li>
        <li><a href="/pages/join.html">RSVP</a></li>
        <li><a href="/pages/donate.html">Sponsor</a></li>
      </ul>
    </li>

    <!-- Projects -->
    <li class="has-submenu">
      <input type="checkbox" id="projects-toggle" hidden>
      <label for="projects-toggle" class="submenu-toggle">Projects <span class="chev">▾</span></label>
      <ul class="submenu">
        <li class="submenu-title">Active</li>
        <li><a href="/pages/projects.html#education">Education</a></li>
        <li><a href="/pages/projects.html#welfare">Welfare</a></li>
        <li><a href="/pages/projects.html#infrastructure">Infrastructure</a></li>
        <li class="submenu-title">Done</li>
        <li><a href="/pages/projects.html#2025-drive">2025 Drive</a></li>
        <li><a href="/pages/projects.html#mentorship-launch">Mentorship</a></li>
        <li class="submenu-title">Support</li>
        <li><a href="/pages/donate.html">Donate</a></li>
        <li><a href="/pages/contact.html">Volunteer</a></li>
      </ul>
    </li>

    <!-- Reports -->
    <li class="has-submenu">
      <input type="checkbox" id="reports-toggle" hidden>
      <label for="reports-toggle" class="submenu-toggle">Reports <span class="chev">▾</span></label>
      <ul class="submenu">
        <li class="submenu-title">Finance</li>
        <li><a href="/pages/reports.html#financial">2025 Statement</a></li>
        <li><a href="/pages/reports.html#audit">Audit</a></li>
        <li class="submenu-title">Alumni</li>
        <li><a href="/pages/reports.html#reunions">Reunions</a></li>
        <li><a href="/pages/reports.html#membership">Members</a></li>
        <li class="submenu-title">Projects</li>
        <li><a href="/pages/reports.html#projects">Status</a></li>
      </ul>
    </li>

    <!-- Support -->
    <li class="has-submenu">
      <input type="checkbox" id="support-toggle" hidden>
      <label for="support-toggle" class="submenu-toggle">Support <span class="chev">▾</span></label>
      <ul class="submenu">
        <li class="submenu-title">Careers</li>
        <li><a href="/pages/job.html">Jobs</a></li>
        <li class="submenu-title">Business</li>
        <li><a href="/pages/business.html">Directory</a></li>
        <li class="submenu-title">Welfare</li>
        <li><a href="/pages/welfare.html#projects">Support</a></li>
        <li><a href="/pages/lift.html#projects">Lift</a></li>
      </ul>
    </li>

    <li><a href="/pages/partner.html">Partners</a></li>
    <li><a href="/pages/contact.html">Contact</a></li>
    <li><a href="/pages/blog.html">News</a></li>

    <!-- Auth Links (Mobile - shown when logged out) -->
    <li class="menu-divider" id="mobile-auth-divider"></li>
    <li id="auth-join-mobile"><a href="/auth/register.html">Join</a></li>
    <li id="auth-login-mobile"><a href="/auth/login.html">Login</a></li>
  </ul>
</aside>

<!-- Mobile Overlay -->
<label for="menu-toggle" class="overlay" aria-hidden="true"></label>

<style>
/* =====================================================
   NAVBAR
   ===================================================== */
.navbar {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  background: #1e3a8a;
  color: #fff;
  z-index: 3000;
}
.navbar-inner {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
}
.brand {
  display: flex;
  align-items: center;
  gap: .5rem;
  font-weight: 700;
}
.brand-logo { height: 28px; }

/* Toggle */
.nav-toggle {
  font-size: 26px;
  cursor: pointer;
  user-select: none;
}

/* =====================================================
   SIDEBAR
   ===================================================== */
.sidebar {
  position: fixed;
  top: 0;
  left: -300px;
  width: 300px;
  height: 100vh;
  background: #1e3a8a;
  color: #fff;
  box-shadow: 8px 0 24px rgba(0,0,0,.25);
  transition: left .35s ease;
  z-index: 4000;
  padding: 1.25rem;
  overflow-y: auto;
}
#menu-toggle:checked ~ .sidebar { left: 0; }

.close {
  font-size: 20px;
  cursor: pointer;
  display: inline-block;
  margin-bottom: 1rem;
}

/* =====================================================
   MENU
   ===================================================== */
.menu { list-style: none; padding: 0; margin: 0; }
.menu > li { margin-bottom: .25rem; }
.menu a {
  display: block;
  padding: .75rem 0;
  color: #fff;
  text-decoration: none;
  font-weight: 500;
}
.menu-divider {
  height: 1px;
  background: #1e3a8a;
  margin: .75rem 0;
}

/* =====================================================
   SUBMENUS (CSS-ONLY COLLAPSIBLE)
   ===================================================== */
.has-submenu { margin-bottom: .5rem; }
.submenu-toggle {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .75rem 0;
  cursor: pointer;
  font-weight: 600;
}
.chev { transition: transform .3s ease; }
.submenu {
  max-height: 0;
  overflow: hidden;
  transition: max-height .35s ease;
  padding-left: 1rem;
}
.has-submenu input:checked + .submenu-toggle .chev { transform: rotate(180deg); }
.has-submenu input:checked ~ .submenu { max-height: 900px; }

.submenu-title {
  font-size: .75rem;
  text-transform: uppercase;
  letter-spacing: .08em;
  opacity: 1;
  margin: .75rem 0 .25rem;
  color: #fae105;
}

/* =====================================================
   OVERLAY
   ===================================================== */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.45);
  opacity: 0;
  pointer-events: none;
  transition: opacity .35s ease;
  z-index: 3500;
}
#menu-toggle:checked ~ .overlay {
  opacity: 1;
  pointer-events: auto;
}

/* =====================================================
   DESKTOP
   ===================================================== */
@media (min-width: 900px) {
  .nav-toggle, .sidebar, .overlay { display: none; }
}
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggleBtn = document.getElementById('nav-toggle');
    const mobileMenu = document.getElementById('nav-links');
    const overlay = document.getElementById('mobile-overlay');

    if (!toggleBtn || !mobileMenu || !overlay) return;

    const openMenu = () => {
      mobileMenu.classList.add('open');
      overlay.classList.add('active');
      toggleBtn.setAttribute('aria-expanded', 'true');
    };

    const closeMenu = () => {
      mobileMenu.classList.remove('open');
      overlay.classList.remove('active');
      toggleBtn.setAttribute('aria-expanded', 'false');
    };

    toggleBtn.addEventListener('click', () => {
      mobileMenu.classList.contains('open') ? closeMenu() : openMenu();
    });

    overlay.addEventListener('click', closeMenu);

    document.addEventListener('keydown', e => {
      if (e.key === 'Escape') closeMenu();
    });

    document.querySelectorAll('.mobile-dropdown-toggle').forEach(btn => {
      btn.addEventListener('click', () => {
        const parent = btn.closest('.mobile-dropdown');
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        parent.classList.toggle('open');
      });
    });

    mobileMenu.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', closeMenu);
    });
  });
</script>
